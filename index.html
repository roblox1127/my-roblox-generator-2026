<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg">
    <title>Free R0bux Generator 2026 - Claim Now</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Fredoka+One&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* --- ORIGINAL STRUCTURE CSS --- */
        :root { --primary: #00b06f; --dark: #191b1d; --card-bg: #2b2d31; --text: #ffffff; --gray: #b8b8b8; --border: rgba(255,255,255,0.1); --alert: #ffbd2e; --error: #ff4757; }
        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Montserrat', sans-serif; background-color: var(--dark); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; align-items: center; overflow-x: hidden; background-image: radial-gradient(#2b2d31 1px, transparent 1px); background-size: 20px 20px; }
        
        #content-wrapper { width: 100%; display: flex; flex-direction: column; align-items: center; padding-top: 70px; padding-bottom: 50px; }
        .navbar { width: 100%; height: 60px; background: #232527; border-bottom: 1px solid var(--border); padding: 0 20px; display: flex; justify-content: space-between; align-items: center; position: fixed; top: 0; z-index: 100; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .nav-logo { font-weight: 900; font-size: 18px; letter-spacing: 0.5px; display: flex; align-items: center; gap: 8px; }
        .nav-logo img { width: 24px; filter: invert(1); }
        .user-counter { background: rgba(0,0,0,0.3); padding: 5px 12px; border-radius: 20px; font-size: 11px; font-weight: 700; display: flex; align-items: center; gap: 6px; border: 1px solid var(--border); }
        .live-dot { width: 8px; height: 8px; background: var(--primary); border-radius: 50%; animation: blink 2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

        .step-progress { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 85px; margin-bottom: 15px; width: 100%; max-width: 450px; }
        .p-dot { width: 10px; height: 10px; border-radius: 50%; background: #333; position: relative; }
        .p-dot.active { background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .p-line { width: 30px; height: 2px; background: #333; }
        .p-line.active { background: var(--primary); }

        #toast-container { position: fixed; bottom: 20px; left: 20px; z-index: 9999; pointer-events: none; }
        .toast-item { background: rgba(35, 37, 39, 0.98); border-left: 4px solid var(--primary); padding: 10px 15px; border-radius: 12px; color: #fff; font-size: 11px; margin-top: 10px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); display: flex; align-items: center; gap: 12px; backdrop-filter: blur(8px); animation: slideIn 0.5s ease forwards; border: 1px solid var(--border); width: 260px; }
        @keyframes slideIn { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .toast-avatar { width: 35px; height: 35px; border-radius: 50%; border: 2px solid var(--primary); background: #000; object-fit: cover; }

        .trust-row { display: flex; justify-content: center; gap: 12px; margin-top: 20px; opacity: 0.7; padding-top: 15px; border-top: 1px solid var(--border); }
        .t-badge { font-size: 10px; font-weight: 800; color: var(--gray); display: flex; align-items: center; gap: 5px; }
        .t-badge i { color: var(--primary); }

        .main-container { width: 95%; max-width: 450px; padding-bottom: 50px; }
        .app-card { background: var(--card-bg); border-radius: 16px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-align: center; border: 1px solid var(--border); margin-bottom: 20px; position: relative; overflow: hidden; }
        
        h2 { font-weight: 900; font-size: 24px; margin-bottom: 5px; }
        .subtitle { color: var(--gray); font-size: 13px; margin-bottom: 25px; font-weight: 600; }
        
        .input-group { position: relative; margin-bottom: 20px; text-align: center; }
        .input-label { font-family: 'Fredoka One', cursive; font-size: 12px; color: var(--gray); margin-bottom: 10px; display: block; letter-spacing: 0.5px; text-transform: uppercase; text-align: center; }
        
        .form-input { width: 100%; background: rgba(0,0,0,0.2); border: 2px solid transparent; padding: 14px; border-radius: 10px; color: #fff; font-size: 16px; outline: none; transition: 0.3s; }
        .form-input:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(0, 176, 111, 0.2); }
        
        .platform-grid { display: flex; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .platform-item { background: rgba(255,255,255,0.05); border: 1px solid var(--border); border-radius: 10px; width: 55px; height: 55px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 22px; color: var(--gray); transition: 0.2s; }
        .platform-item:hover, .platform-item.active { border-color: var(--primary); color: #fff; background: rgba(0, 176, 111, 0.15); }
        .btn-main { background: var(--primary); color: #fff; border: none; width: 100%; padding: 16px; border-radius: 10px; font-size: 18px; font-weight: 800; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; }

        .hidden-step { display: none; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .avatar-wrapper { width: 110px; height: 110px; border-radius: 50%; background: #222; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; border: 4px solid #393b3f; position: relative; overflow: hidden; }
        .avatar-wrapper.found { border-color: var(--primary); box-shadow: 0 0 20px rgba(0, 176, 111, 0.3); }
        .avatar-img { width: 100%; height: 100%; object-fit: cover; display: none; position: absolute; top: 0; left: 0; border-radius: 50%; }

        .robux-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .robux-card { background: #393b3f; border: 2px solid transparent; border-radius: 12px; padding: 15px; cursor: pointer; transition: 0.2s; position: relative; overflow: hidden; }
        .robux-card:hover { transform: translateY(-3px); border-color: var(--primary); }
        .robux-amount { font-size: 18px; font-weight: 800; color: #fff; margin-top: 5px; display: block; }
        .robux-img { width: 45px; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3)); }
        .tag-popular { position: absolute; top: 0; right: 0; background: var(--alert); color: #000; font-size: 9px; padding: 3px 8px; border-bottom-left-radius: 8px; font-weight: 800; }

        .console-profile { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; background: rgba(0,0,0,0.25); padding: 15px; border-radius: 12px; border: 1px solid var(--border); text-align: left; }
        .console-avatar { width: 60px; height: 60px; border-radius: 50%; border: 3px solid #333; object-fit: cover; background: #000; }
        .console-info b { color: var(--primary); font-size: 14px; }
        .console-info span { font-size: 13px; color: #fff; display: inline-block; font-family: 'Inter'; font-weight: 700; white-space: nowrap; }
        .console-box { background: #000; border-radius: 12px; padding: 15px; height: 180px; text-align: left; font-family: 'Courier New', monospace; font-size: 11px; overflow: hidden; border: 1px solid #333; margin-bottom: 20px; line-height: 1.6; }
        .progress-container { width: 100%; background: #333; height: 8px; border-radius: 4px; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: var(--alert); transition: width 0.1s linear; box-shadow: 0 0 10px var(--alert); }

        .modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.95); z-index: 9999; display: none; justify-content: center; align-items: center; backdrop-filter: blur(10px); padding: 20px; }
        .modal-content { background: #161b22; width: 100%; max-width: 450px; border-radius: 15px; border: 2px solid var(--primary); box-shadow: 0 0 40px rgba(0,0,0,1); overflow: hidden; display: flex; flex-direction: column; animation: zoomIn 0.3s ease; max-height: 95vh; }
        .modal-header-br { background: #191b1d; padding: 15px; border-bottom: 1px solid var(--border); text-align: center; }
        .modal-header-br h2 { color: var(--primary); font-size: 1.4rem; font-weight: 900; text-transform: uppercase; margin: 0; }
        .modal-timer-bar { background: #000; padding: 12px; text-align: center; border-bottom: 1px solid #333; }
        .timer-txt { font-family: 'Inter'; color: #fff; font-size: 13px; font-weight: 700; }

        .modal-user-card { display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 10px; border: 1px solid var(--border); margin: 15px; text-align: left; }
        .modal-avatar-img { width: 55px; height: 55px; border-radius: 50%; border: 2px solid var(--primary); background: #000; object-fit: cover; }
        .modal-info-txt b { color: var(--primary); font-size: 14px; }
        .modal-info-txt span { font-size: 13px; color: #fff; display: inline-block; font-family: monospace; font-weight: 700; white-space: nowrap; }

        .firewall-alert { padding: 0 15px; margin-bottom: 15px; text-align: center; }
        .firewall-alert b { color: var(--error); font-size: 18px; display: block; margin-bottom: 8px; font-family: 'Fredoka One'; text-transform: uppercase; }
        .firewall-alert span { color: #ccc; font-size: 13px; line-height: 1.4; display: block; }
        
        .offer-card { display: flex; align-items: center; background: #252d37; border-radius: 8px; padding: 10px; margin: 0 15px 10px; text-decoration: none; color: #fff; border: 1px solid #333; transition: 0.3s; cursor: pointer; }
        .offer-btn-small { background: var(--primary); color: #000; border-radius: 6px; padding: 8px; font-size: 11px; font-weight: 800; text-align: center; min-width: 85px; }

        .tiktok-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 99999; display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; backdrop-filter: blur(10px); }
        .tiktok-icon { font-size: 50px; color: #fff; margin-bottom: 20px; animation: bounce 1s infinite; }
        .tiktok-title { color: #ff4757; font-size: 24px; margin-bottom: 15px; text-transform: uppercase; font-family: 'Montserrat', sans-serif; font-weight: 900; letter-spacing: 1px; }
        .tiktok-desc { font-family: 'Inter', sans-serif; color: #ccc; font-size: 14px; line-height: 1.6; max-width: 320px; margin-bottom: 30px; }
        .tiktok-arrow { font-size: 40px; color: var(--primary); animation: pointToMenu 1.5s infinite ease-in-out; position: absolute; top: 20px; right: 20px; transform: rotate(0deg); }
        @keyframes pointToMenu { 0% { transform: translate(0, 0) rotate(0deg); opacity: 1; } 50% { transform: translate(0, -10px) rotate(0deg); opacity: 0.6; } 100% { transform: translate(0, 0) rotate(0deg); opacity: 1; } }

        .comments-container { width: 100%; background: var(--card-bg); border-radius: 16px; padding: 20px; text-align: left; border: 1px solid var(--border); margin-top: 10px; }
        .comment-header { color: #fff; font-weight: 900; margin-bottom: 15px; font-size: 16px; display: flex; justify-content: space-between; align-items: center; }
        .live-status { font-size: 10px; color: #ff4757; display: flex; align-items: center; gap: 4px; font-weight: 700; text-transform: uppercase; animation: pulseRed 2s infinite; }
        .live-dot-chat { width: 6px; height: 6px; background: #ff4757; border-radius: 50%; animation: blink 1s infinite; }

        .comment-input-area { display: flex; gap: 10px; margin-bottom: 15px; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.05); }
        .comment-input { flex: 1; background: transparent; border: none; color: #fff; font-family: 'Montserrat', sans-serif; font-size: 13px; outline: none; }
        .post-btn { background: var(--primary); color: #fff; border: none; padding: 8px 16px; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 11px; white-space: nowrap; }
        
        .comments-list { display: flex; flex-direction: column; gap: 10px; max-height: 250px; overflow-y: auto; position: relative; scrollbar-width: thin; scrollbar-color: #444 transparent; padding-right: 5px; }
        .comments-list::-webkit-scrollbar { width: 4px; }
        .comments-list::-webkit-scrollbar-thumb { background: #444; border-radius: 10px; }

        .comment-card { display: flex; gap: 10px; padding: 8px; background: rgba(255,255,255,0.03); border-radius: 10px; border-left: 2px solid transparent; animation: slideIn 0.3s ease; }
        .comment-card:hover { background: rgba(255,255,255,0.06); border-left-color: var(--primary); }

        .user-avatar { width: 32px; height: 32px; border-radius: 50%; background: #000; border: 1px solid rgba(255,255,255,0.2); flex-shrink: 0; overflow: hidden; }
        .user-avatar img { width: 100%; height: 100%; object-fit: cover; }
        
        .comment-content { flex: 1; font-family: 'Inter', sans-serif; }
        .comment-user { color: #fff; font-weight: 700; font-size: 11px; margin-bottom: 2px; display: flex; align-items: center; gap: 6px; }
        .role-badge { font-size: 9px; padding: 1px 4px; border-radius: 3px; background: #333; color: #aaa; font-weight: 600; text-transform: uppercase; }
        .role-badge.vip { background: var(--alert); color: #000; }
        
        .comment-text { color: #ccc; font-size: 12px; line-height: 1.35; word-break: break-word; }
        .time-ago { font-size: 9px; color: #666; margin-left: auto; font-weight: 400; }

/* Layout for the dynamic offer rows */
.offer-icon { width: 50px; height: 50px; border-radius: 8px; margin-right: 12px; }
.offer-info { flex: 1; text-align: left; }
.offer-title { color: #fff; font-size: 14px; font-weight: 800; display: block; margin-bottom: 4px; }
.instruction-box { font-size: 10px; color: #aaa; display: flex; align-items: center; gap: 4px; }
.offer-btn { background: var(--primary); color: #000; padding: 8px 12px; border-radius: 6px; font-weight: 900; font-size: 11px; min-width: 90px; text-align: center; }

/* The 'Verifying' scanning animation */
@keyframes scanMove {
    0% { left: -30%; }
    100% { left: 100%; }
}
/* Pulsing text for that 'Live' feel */
.status-pulse {
    animation: pulseText 1.5s infinite;
}
@keyframes pulseText {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* Ensure the modal content is scrollable on small phones */
.modal-content {
    max-height: 90vh; /* Never taller than 90% of the screen */
    overflow-y: auto; 
    position: relative;
}

/* The scanning line that moves across the modal */
.scan-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary);
    animation: scanMove 3s linear infinite;
    z-index: 10;
}

    </style>
</head>
<body>

    <div id="inAppBrowserWarning" class="tiktok-overlay">
        <div class="tiktok-arrow"><i class="fas fa-arrow-up"></i></div>
        <div class="tiktok-icon"><i class="fas fa-globe"></i></div>
        <h2 class="tiktok-title">BROWSER ERROR</h2>
        <p class="tiktok-desc">
            This site is not compatible with the current in-app browser environment.
            <br><br>
            1. Click the <strong>•••</strong> (Three Dots).
            <br>
            2. Select <strong>Open in Browser</strong>.
        </p>
    </div>

    <div id="toast-container"></div>

    <div id="content-wrapper">
        <nav class="navbar">
            <div class="nav-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Roblox_player_icon_black.svg"><span>GENERATOR</span></div>
            <div class="user-counter"><span class="live-dot"></span> <span id="onlineCount">842</span> Online</div>
        </nav>

        <div class="main-container">
            <div class="step-progress">
                <div class="p-dot active" id="dot1"></div>
                <div class="p-line" id="line1"></div>
                <div class="p-dot" id="dot2"></div>
                <div class="p-line" id="line2"></div>
                <div class="p-dot" id="dot3"></div>
                <div class="p-line" id="line3"></div>
                <div class="p-dot" id="dot4"></div>
            </div>

            <div id="step1" class="app-card animate__animated animate__fadeIn">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" style="width: 60px; margin-bottom: 15px;">
                <h2>R0BUX GENERATOR</h2>
                <div class="subtitle">Safe. Secure. No Password Required</div>
                
                <div class="input-group">
                    <span class="input-label">ROBLOX USERNAME</span>
                    <input type="text" id="username" class="form-input" placeholder="Your Username...">
                </div>

                <span class="input-label" style="text-align: center;">PLATFORM</span>
                <div class="platform-grid">
                    <div class="platform-item active" onclick="selectPlatform(this)"><i class="fas fa-desktop"></i></div>
                    <div class="platform-item" onclick="selectPlatform(this)"><i class="fas fa-mobile-alt"></i></div>
                    <div class="platform-item" onclick="selectPlatform(this)"><i class="fab fa-xbox"></i></div>
                    <div class="platform-item" onclick="selectPlatform(this)"><i class="fas fa-tablet-alt"></i></div>
                </div>
                
                <button class="btn-main" id="connectBtn" onclick="processStep1()">Connect Account</button>
                
                <div class="trust-row">
                    <div class="t-badge"><i class="fas fa-shield-alt"></i> SECURE</div>
                    <div class="t-badge"><i class="fas fa-lock"></i> SSL</div>
                    <div class="t-badge"><i class="fas fa-check-circle"></i> VERIFIED</div>
                </div>
            </div>

            <div id="step2" class="app-card hidden-step">
                <div class="avatar-wrapper" id="avatarCircle">
                    <div class="pulse-ring"></div>
                    <img id="avatarImg" class="avatar-img" src="https://tr.rbxcdn.com/30DAY-Avatar-5A17FFEC8370F978449674B4C22F8BC6-Png/420/420/Avatar/Png/noFilter">
                    <i id="searchIcon" class="fas fa-search fa-2x" style="color:#666"></i>
                </div>
                <h3 id="searchStatus">Searching Roblox Database...</h3>
            </div>

            <div id="step3" class="app-card hidden-step">
                <h2>Select Amount</h2>
                <div class="subtitle">Connected to: <span id="displayUser" style="color:var(--primary)">User</span></div>
                <div class="robux-grid">
                    <div class="robux-card" onclick="startGen(4500)"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" class="robux-img"><span class="robux-amount">4,500</span></div>
                    <div class="robux-card" onclick="startGen(10000)"><div class="tag-popular">POPULAR</div><img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" class="robux-img"><span class="robux-amount">10,000</span></div>
                    <div class="robux-card" onclick="startGen(22500)"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" class="robux-img"><span class="robux-amount">22,500</span></div>
                    <div class="robux-card" onclick="startGen(50000)"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" class="robux-img"><span class="robux-amount">50,000</span></div>
                </div>
            </div>

            <div id="step4" class="app-card hidden-step">
                <h2 style="color:#fff; font-size: 28px; margin-bottom: 15px;">PROCESSING...</h2>
                <div class="console-profile">
                    <img id="consAv" class="console-avatar" src="https://tr.rbxcdn.com/30DAY-Avatar-5A17FFEC8370F978449674B4C22F8BC6-Png/420/420/Avatar/Png/noFilter">
                    <div class="console-info">
                        User: <b id="consName" style="color:var(--primary)">--</b><br>
                        <span>ID : <b id="consID" style="color:#fff">39210041</b></span><br>
                        Status: <b style="color:var(--primary); animation: flashStatus 1s infinite;">TRANSFERRING...</b>
                    </div>
                </div>
                <div style="font-size: 34px; font-weight: 900; color: var(--alert); margin: 15px 0; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Robux_2019_Logo_gold.svg" width="35">
                    <span id="robuxCounter">0</span>
                </div>
                <div class="console-box" id="console"></div>
                <div class="progress-container"><div class="progress-bar" id="pbar"></div></div>
            </div>

            <div id="step-scan" class="app-card hidden-step">
                <div class="radar-box"><div class="radar-sweep"></div><i class="fas fa-search-location fa-3x" style="color:var(--alert);"></i></div>
                <h2 style="color:var(--alert);">SECURITY SCAN</h2>
                <p class="subtitle">Checking cloud integrity for <span id="scanUser" style="color:#fff"></span>...</p>
                <div id="scanLog" style="font-family: monospace; font-size: 11px; color:#aaa;">Verifying balance sync...</div>
            </div>

            <div id="step5" class="app-card hidden-step">
                <div style="font-size: 50px; color: var(--alert); margin-bottom:15px;"><i class="fas fa-shield-virus"></i></div>
                <h2 style="color:var(--alert);">SECURITY BLOCK</h2>
                <p style="font-size:13px; color:#ccc; margin-bottom:20px; line-height: 1.5;">The transfer of <b><span id="finalAmtDisplay"></span> Robux</b> was intercepted by the Roblox Guardian. <br><br>Manual confirmation is required to finish sending the Robux.</p>
                <button class="btn-main" onclick="openLocker()">FINISH SENDING</button>
            </div>

            <div class="comments-container">
                <div class="comment-header">
                    <span>Live Chat</span>
                    <span class="live-status"><div class="live-dot-chat"></div> LIVE</span>
                </div>
                <div class="comment-input-area">
                    <input type="text" id="userCommentInput" class="comment-input" placeholder="Join the discussion...">
                    <button class="post-btn" onclick="postComment()">POST</button>
                </div>
                <div id="commentsList" class="comments-list"></div>
            </div>
        </div>
    </div>

    <div id="lockerModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header-br"><h2>TRANSFER PAUSED</h2></div>
            <div id="lockerArea">
                <div class="modal-user-card">
                    <img id="modalAvatar" class="modal-avatar-img" src="https://tr.rbxcdn.com/30DAY-Avatar-5A17FFEC8370F978449674B4C22F8BC6-Png/420/420/Avatar/Png/noFilter">
                    <div class="modal-info-txt">
                        <b>User: <span id="modalName" style="color:var(--primary)">--</span></b>
                        <span>ID : <b style="color:#fff">Verified Human</b></span>
                    </div>
                </div>
                <div class="firewall-alert">
                    <b>Roblox Firewall detected.</b>
                    <span>Verify you are human to bypass the firewall and finalize the transfer.</span>
                </div>
                   <div id="offersBody" style="min-height: 100px; display: flex; flex-direction: column; padding: 15px;">
    <div id="checkStatus" style="padding: 0 15px 15px;"></div>
    
    <div id="offersList"></div>

    <div id="recentActivity" style="margin-top: 15px; padding-top: 10px; border-top: 1px solid #333; text-align: center; font-size: 10px; color: #888;">
        <i class="fas fa-bolt" style="color:var(--primary); margin-right: 5px;"></i>
        <span id="activityTxt" style="transition: opacity 0.5s;">Initializing activity stream...</span>
    </div>
</div>
</div> </div> </div> </div>
 <script>
 
 // --- VARIABLES ---
let globalUser = "", globalAvatar = "https://tr.rbxcdn.com/30DAY-Avatar-5A17FFEC8370F978449674B4C22F8BC6-Png/420/420/Avatar/Png/noFilter", globalID = "39210041", globalAmt = 0;
const OFFER_API_URL = "/get-offers";
const FALLBACK_OFFERS = [
    {name_short:"Family Island", adcopy:"Reach Level 10.", link:"#", picture:"https://placehold.co/60x60/orange/white?text=FI"},
    {name_short:"TikTok", adcopy:"Install and Open", link:"#", picture:"https://placehold.co/60x60/black/white?text=TT"}
];

let currentApiOffers = []; // Global storage for real offers

// This function starts the brainrot activity log
async function startDynamicActivity() {
    const activityTxt = document.getElementById('activityTxt');
    if (!activityTxt) return;

    // Wait until the API actually returns data
    if (currentApiOffers.length === 0) {
        setTimeout(startDynamicActivity, 1000);
        return;
    }

    setInterval(async () => {
        const u = await getRealUser(); // Uses your existing Roblox user fetcher
        const offer = currentApiOffers[Math.floor(Math.random() * currentApiOffers.length)];
        const offerName = offer.name_short || "an offer";
        
        const actions = [
            `is installing ${offerName}...`,
            `just completed ${offerName}!`,
            `successfully verified ${offerName}`,
            `is waiting for ${offerName} credits...`
        ];
        
        const randomAction = actions[Math.floor(Math.random() * actions.length)];
        
        activityTxt.style.opacity = '0'; // Fade out
        setTimeout(() => {
            activityTxt.innerHTML = `<b style="color:#fff">${u.name}</b> ${randomAction}`;
            activityTxt.style.opacity = '1'; // Fade in
        }, 500);
        
    }, 4500); // New activity every 4.5 seconds
}

async function fetchOffers() {
    const body = document.getElementById('offersBody');
    // We add an inner container for the offers so it doesn't delete the timer
    let offersList = document.getElementById('offersList');
    
    if (!offersList) {
        offersList = document.createElement('div');
        offersList.id = 'offersList';
        body.appendChild(offersList);
    }

    try {
        const response = await fetch(OFFER_API_URL);
        const data = await response.json();

        if (data && data.length > 0) {
            currentApiOffers = data;
        } else {
            currentApiOffers = FALLBACK_OFFERS;
        }
    } catch (e) {
        console.log("API Error, using fallback.");
        currentApiOffers = FALLBACK_OFFERS;
    }

    // Clear loading state and render
    offersList.innerHTML = "";
    currentApiOffers.forEach(offer => {
        createOfferElement(offer, offersList);
    });

    // Start the brainrot activity log once offers exist
    startDynamicActivity();
}

// --- SMART CHAT DATABASE (ROBUX THEMED) ---
const chatDB = {
    openers: ["bro", "yo", "omg", "wait", "guys", "holy", "nah", "bruh", "chat", "no way"],
    questions: ["is this real?", "how long for verification?", "do i need password?", "is it safe?", "anyone verified?", "why is it paused?"],
    trustAnswers: ["its legit bro", "yeah worked for me", "legit verified", "i got my robux", "not fake", "it works just do the app", "i verified in 2 mins"],
    safetyAnswers: ["safe dw", "no pass needed just user", "100% secure", "dont give pass and ur safe"],
    timeAnswers: ["took 2 mins", "instant", "fast", "30 seconds", "just complete offer", "wait like 5 mins"],
    success: ["OMG 10K ADDED", "finally rich", "buying valk now", "checking balance... IT WORKED", "just got 4500", "pending robux came through", "buying korblox rn"],
    slang: ["fr", "on god", "legit", "ez", "rn", "lol", "ty", "W", "nice"]
};

let questionQueue = [];

// --- ROBUST FETCH ---
async function fetchRealRobloxData(username) {
    const proxies = [
        "https://freebrainrots-fetcher.iphonexsfree2018.workers.dev/?u=",
        "https://api.allorigins.win/get?url=",
        "https://corsproxy.io/?"
    ];
    
    for (let p of proxies) {
        try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 2000); 

            const userApi = `https://users.roblox.com/v1/usernames/users`;
            let data;
            
            if(p.includes("allorigins")) {
                const res = await fetch(p + encodeURIComponent(userApi), {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ usernames: [username], excludeBannedUsers: true }),
                    signal: controller.signal
                });
                const json = await res.json();
                data = JSON.parse(json.contents);
            } else {
                const res = await fetch(p + encodeURIComponent(userApi), {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ usernames: [username], excludeBannedUsers: true }),
                    signal: controller.signal
                });
                data = await res.json();
            }
            clearTimeout(timeoutId);

            if (data?.data?.length > 0) {
                const id = data.data[0].id.toString(); 
                const realName = data.data[0].name;

                const thumbApi = `https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${id}&size=420x420&format=Png&isCircular=false`;
                const thumbRes = await fetch(p + encodeURIComponent(thumbApi));
                
                let thumbData;
                if(p.includes("allorigins")) {
                    const tJson = await thumbRes.json();
                    thumbData = JSON.parse(tJson.contents);
                } else {
                    thumbData = await thumbRes.json();
                }

                if (thumbData?.data?.length > 0) {
                    return { success: true, id: id, name: realName, img: thumbData.data[0].imageUrl };
                }
            }
        } catch (e) {
            // try next proxy
        }
    }
    // Last resort avatar
    return {
        success: false,
        id: "48293011",
        name: username,
        img: `https://api.dicebear.com/7.x/avataaars/svg?seed=${username}&backgroundColor=b6e3f4`
    };
}

// --- STEP 1 LOGIC ---
function selectPlatform(el) {
    document.querySelectorAll('.platform-item').forEach(e => e.classList.remove('active'));
    el.classList.add('active');
}

async function processStep1() {
    const inp = document.getElementById('username');
    const user = inp.value.trim();
    if (user.length < 3) return alert("Please enter a valid username");

    globalUser = user;
    
    document.getElementById('step1').style.display = 'none';
    document.getElementById('step2').style.display = 'block';
    document.getElementById('dot2').classList.add('active');
    document.getElementById('line1').classList.add('active');

    const fetchPromise = fetchRealRobloxData(user);
    const waitPromise   = new Promise(r => setTimeout(r, 2500));

    const [userData] = await Promise.all([fetchPromise, waitPromise]);

    globalUser   = userData.name;
    globalID     = userData.id;
    globalAvatar = userData.img;

    document.getElementById('avatarImg').src = globalAvatar;
    document.getElementById('consAv').src = globalAvatar;
    document.getElementById('consName').innerText = globalUser;
    document.getElementById('consID').innerText = globalID;
    document.getElementById('displayUser').innerText = globalUser;
    document.getElementById('modalAvatar').src = globalAvatar;
    document.getElementById('modalName').innerText = globalUser;

    document.getElementById('searchIcon').style.display = 'none';
    document.getElementById('avatarImg').style.display = 'block';
    document.getElementById('avatarCircle').classList.add('found');
    document.querySelector('.pulse-ring').style.display = 'none';
    document.getElementById('searchStatus').innerText = "Account Found!";
    document.getElementById('searchStatus').style.color = "var(--primary)";

    setTimeout(() => {
        document.getElementById('step2').style.display = 'none';
        document.getElementById('step3').style.display = 'block';
        document.getElementById('dot3').classList.add('active');
        document.getElementById('line2').classList.add('active');
    }, 1500);
}

// --- MAIN GENERATOR FLOW ---
function startGen(amount) {
    globalAmt = amount;
    document.getElementById('step3').style.display = 'none';
    document.getElementById('step4').style.display = 'block';
    document.getElementById('dot4').classList.add('active');
    document.getElementById('line3').classList.add('active');
    runSync(amount);
}

function runSync(target) {
    const box = document.getElementById('console');
    const countEl = document.getElementById('robuxCounter');
    const pfill = document.getElementById('pbar');
    
    const lines = [
        {t:`> Connecting to Roblox Server (${globalID})...`, c:"#fff"},
        {t:"> Authenticating User Session...", c:"var(--alert)"},
        {t:"> USER FOUND.", c:"var(--primary)"},
        {t:"> Sending Robux packets...", c:"#fff"},
        {t:"> Final security check triggered...", c:"var(--primary)"}
    ];
    let startTime = Date.now(); 
    let duration = 8000; 
    let logIdx = 0;
    
    const tick = setInterval(function(){
        let elapsed = Date.now() - startTime;
        let pct = elapsed / duration;
        if (pct >= 1) {
            clearInterval(tick);
            startScanningPhase(target);
            return;
        }
        pfill.style.width = (pct * 100) + "%";
        if (pct < 0.9) countEl.innerText = Math.floor(target * (pct / 0.9)).toLocaleString();
        
        if (elapsed > (logIdx * 1500) && logIdx < lines.length) {
            const div = document.createElement('div'); 
            div.className = "console-line";
            div.style.color = lines[logIdx].c; 
            div.innerText = lines[logIdx].t; 
            box.appendChild(div); 
            logIdx++;
        }
    }, 50);
}

function startScanningPhase(targetAmount) {
    document.getElementById('step4').style.display = 'none';
    document.getElementById('step-scan').style.display = 'block';
    document.getElementById('scanUser').innerText = globalUser;
    document.getElementById('finalAmtDisplay').innerText = targetAmount.toLocaleString();
    setTimeout(() => {
        document.getElementById('step-scan').style.display = 'none';
        document.getElementById('step5').style.display = 'block';
    }, 3000);
}

let countdown; // Global timer variable

function openLocker() {
    document.getElementById('lockerModal').style.display = 'flex';
    
    // Add the scanning line visually
    const scan = document.createElement('div');
    scan.className = 'scan-overlay';
    document.querySelector('.modal-content').appendChild(scan);
    
    startTimer(120); // 2 minutes in seconds
    fetchOffers();
}

function startTimer(seconds) {
    let timer = seconds;
    const checkStatus = document.getElementById('checkStatus');
    
    countdown = setInterval(() => {
        let mins = Math.floor(timer / 60);
        let secs = timer % 60;
        secs = secs < 10 ? '0' + secs : secs;

        checkStatus.innerHTML = `
            <div style="text-align:center; padding:10px; border-top:1px solid #333;">
                <p style="font-size:11px; color:#aaa;">Manual Verification expires in:</p>
                <b style="font-size:18px; color:var(--alert);">${mins}:${secs}</b>
                <div class="status-pulse" style="font-size:10px; color:var(--primary); margin-top:5px;">
                    <i class="fas fa-sync fa-spin"></i> Waiting for completion...
                </div>
            </div>`;

        if (--timer < 0) clearInterval(countdown);
    }, 1000);
}

// Updated click logic for offers
function createOfferElement(offer, list) {
    const a = document.createElement('div');
    a.className = 'offer-card';
    let link = offer.link || offer.tracking_url || "#";
    
    a.innerHTML = `
        <img src="${offer.picture}" class="offer-icon">
        <div class="offer-info">
            <span class="offer-title">${offer.name_short}</span>
            <div class="instruction-box"><i class="fas fa-info-circle"></i> ${offer.adcopy}</div>
        </div>
        <div class="offer-btn">VERIFY</div>`;

    a.onclick = function() {
        window.open(link, '_blank');
        const btn = this.querySelector('.offer-btn');
        btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> STARTED';
        btn.style.background = "#555";
        
        // Brainrot logic: Fake a 'Checking' message after 5 seconds
        setTimeout(() => {
            btn.innerHTML = 'CHECKING...';
            btn.style.color = "var(--alert)";
        }, 5000);
    };
    list.appendChild(a);
}


// --- REAL USERS ONLY ---
let realUserQueue = [];

async function fillUserQueue() {
    try {
        const ids = [];
        for (let i = 0; i < 12; i++) {
            ids.push(Math.floor(Math.random() * (4000000000 - 100000000) + 100000000));
        }
        
        const proxy = "https://corsproxy.io/?";
        const userRes = await fetch(proxy + encodeURIComponent("https://users.roblox.com/v1/users"), {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ userIds: ids, excludeBannedUsers: true })
        });
        const userData = await userRes.json();
        
        if (!userData.data?.length) return;
        
        const validIds = userData.data.map(u => u.id);
        const thumbRes = await fetch(proxy + encodeURIComponent(
            "https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=" +
            validIds.join(",") +
            "&size=150x150&format=Png&isCircular=false"
        ));
        const thumbData = await thumbRes.json();
        
        userData.data.forEach(user => {
            const imgObj = thumbData.data.find(img => img.targetId === user.id);
            if (imgObj?.imageUrl) {
                realUserQueue.push({ name: user.name, avatar: imgObj.imageUrl });
            }
        });
    } catch (e) {}
}

async function getRealUser() {
    while (realUserQueue.length === 0) {
        await fillUserQueue();
        if (realUserQueue.length === 0) await new Promise(r => setTimeout(r, 1200));
    }
    return realUserQueue.shift();
}

fillUserQueue();

// --- CHAT & TOASTS ---
function humanize(text) {
    if (Math.random() < 0.6) text = text.toLowerCase();
    if (Math.random() < 0.1) text = text.replace("please", "pls").replace("and", "nd").replace("what", "wat");
    if (Math.random() < 0.3) text = text.replace("?", "");
    return text;
}

function addMessage(user, msg, avatar, isVip = false) {
    const list = document.getElementById('commentsList');
    const div = document.createElement('div');
    div.className = 'comment-card';
    if (isVip) div.style.borderLeftColor = "var(--alert)";
    
    const badge = isVip ? `<span class="role-badge vip">VIP</span>` : '';
    
    div.innerHTML = `
        <div class="user-avatar"><img src="${avatar}"></div>
        <div class="comment-content">
            <div class="comment-user">${user} ${badge} <span class="time-ago">Just now</span></div>
            <div class="comment-text">${msg}</div>
        </div>`;
    list.prepend(div);
    if (list.children.length > 15) list.lastElementChild.remove();
}

async function chatDirector() {
    const u = await getRealUser();
    let msg = "";
    let isVip = false;

    if (questionQueue.length > 0 && Math.random() < 0.6) {
        const q = questionQueue.shift();
        let ansType = chatDB.trustAnswers;
        if (q.txt.includes("long") || q.txt.includes("time")) ansType = chatDB.timeAnswers;
        else if (q.txt.includes("safe") || q.txt.includes("pass")) ansType = chatDB.safetyAnswers;
        
        msg = "@" + q.user + " " + ansType[Math.floor(Math.random()*ansType.length)];
    } 
    else if (Math.random() < 0.3) {
        msg = chatDB.success[Math.floor(Math.random()*chatDB.success.length)] + " " + chatDB.slang[Math.floor(Math.random()*chatDB.slang.length)];
        if (Math.random() < 0.3) isVip = true; 
    }
    else {
        const q = chatDB.questions[Math.floor(Math.random()*chatDB.questions.length)];
        msg = humanize(q);
        questionQueue.push({user: u.name, txt: msg});
    }

    addMessage(u.name, humanize(msg), u.avatar, isVip);
    setTimeout(chatDirector, Math.random() * 3000 + 2000);
}

function postComment() {
    const inp = document.getElementById('userCommentInput');
    const txt = inp.value.trim();
    if (!txt) return;
    
    addMessage(globalUser || "You", txt, globalAvatar, true);
    inp.value = "";

    setTimeout(async () => {
        const u = await getRealUser();
        triggerBotReply(globalUser || "You", txt, u);
    }, Math.random() * 2000 + 1500); 
}

function triggerBotReply(targetUser, userText, replyingUser) {
    let replyMsg = "";
    const lowerText = userText.toLowerCase();

    if (lowerText.includes("fake") || lowerText.includes("scam") || lowerText.includes("real")) {
        replyMsg = chatDB.trustAnswers[Math.floor(Math.random()*chatDB.trustAnswers.length)];
    } else if (lowerText.includes("wait") || lowerText.includes("long") || lowerText.includes("time")) {
        replyMsg = chatDB.timeAnswers[Math.floor(Math.random()*chatDB.timeAnswers.length)];
    } else if (lowerText.includes("safe") || lowerText.includes("pass") || lowerText.includes("hack")) {
        replyMsg = chatDB.safetyAnswers[Math.floor(Math.random()*chatDB.safetyAnswers.length)];
    } else {
        replyMsg = chatDB.slang[Math.floor(Math.random()*chatDB.slang.length)];
    }

    addMessage(replyingUser.name, "@" + targetUser + " " + humanize(replyMsg), replyingUser.avatar);
}

function spawnRealToast() {
    (async () => {
        try {
            const u = await getRealUser();
            const container = document.getElementById('toast-container');
            if (!container) return;

            const amounts = [4500, 10000, 50000];
            const randomAmount = amounts[Math.floor(Math.random() * amounts.length)].toLocaleString();

            const toast = document.createElement('div');
            toast.className = 'toast-item';

            toast.innerHTML =
                '<img src="' + u.avatar + '" ' +
                'class="toast-avatar" ' +
                'onerror="this.src=\'https://tr.rbxcdn.com/30DAY-Avatar-5A17FFEC8370F978449674B4C22F8BC6-Png/420/420/Avatar/Png/noFilter\'; this.onerror=null;">' +
                '<div>' +
                    '<b>' + u.name + '</b> received <b>' + randomAmount + ' Robux</b>' +
                '</div>';

            container.appendChild(toast);

            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 500);
            }, 4000);
        } catch (e) {}
    })();

    setTimeout(spawnRealToast, Math.random() * 6000 + 4000);
}

// Init
window.onload = function() {
    fillUserQueue(); // Start getting real Roblox users immediately on load
    
    setTimeout(() => {
        spawnRealToast();
        chatDirector();
    }, 2500);

    setInterval(() => {
        let count = document.getElementById('onlineCount'); 
        let current = parseInt(count.innerText.replace(/,/g,'')); 
        count.innerText = (current + Math.floor(Math.random()*10) - 5).toLocaleString(); 
    }, 2000);
};
</script>
</body>
</html>
